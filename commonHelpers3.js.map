{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('submit', onSubmitForm);\nform.addEventListener('input', throttle(onInputForm, 500));\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  console.log(JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY)));\n  localStorage.removeItem(LOCAL_STORAGE_KEY);\n  form.reset();\n}\n\nfunction onInputForm(e) {\n  const { name, value } = e.target;\n  const storObj = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY)) ?? {};\n  storObj[name] = value;\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(storObj));\n}\n\n(function onFillInput() {\n  const storObj = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n  if (!storObj) return;\n  Object.keys(storObj).forEach(el => {\n    form.elements[el].value = storObj[el];\n  });\n})();\n"],"names":["LOCAL_STORAGE_KEY","form","onSubmitForm","throttle","onInputForm","e","name","value","storObj","el"],"mappings":"wIACA,MAAMA,EAAoB,sBACpBC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,SAAUC,CAAY,EAC5CD,EAAK,iBAAiB,QAASE,EAASC,EAAa,GAAG,CAAC,EAEzD,SAASF,EAAaG,EAAG,CACvBA,EAAE,eAAc,EAChB,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQL,CAAiB,CAAC,CAAC,EAC/D,aAAa,WAAWA,CAAiB,EACzCC,EAAK,MAAK,CACZ,CAEA,SAASG,EAAYC,EAAG,CACtB,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAE,OACpBG,EAAU,KAAK,MAAM,aAAa,QAAQR,CAAiB,CAAC,GAAK,GACvEQ,EAAQF,GAAQC,EAChB,aAAa,QAAQP,EAAmB,KAAK,UAAUQ,CAAO,CAAC,CACjE,EAEC,UAAuB,CACtB,MAAMA,EAAU,KAAK,MAAM,aAAa,QAAQR,CAAiB,CAAC,EAC7DQ,GACL,OAAO,KAAKA,CAAO,EAAE,QAAQC,GAAM,CACjCR,EAAK,SAASQ,GAAI,MAAQD,EAAQC,EACtC,CAAG,CACH,GAAI"}