{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst saveDate = {};\n\nform.addEventListener('submit', onSubmitForm);\nform.addEventListener('input', throttle(onInputForm, 500));\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  console.log(JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY)));\n  form.reset();\n  localStorage.removeItem(LOCAL_STORAGE_KEY);\n}\n\nfunction onInputForm(e) {\n  const { name, value } = e.target;\n  saveDate[name] = value;\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(saveDate));\n}\n\nfunction onFillInput() {\n  const storObj = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n  if (!storObj) return;\n  Object.keys(storObj).forEach(el => {\n    form.elements[el].value = storObj[el];\n  });\n}\n\nonFillInput();\n"],"names":["LOCAL_STORAGE_KEY","form","saveDate","onSubmitForm","throttle","onInputForm","name","value","onFillInput","storObj","el"],"mappings":"wIACA,MAAMA,EAAoB,sBACpBC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAW,CAAA,EAEjBD,EAAK,iBAAiB,SAAUE,CAAY,EAC5CF,EAAK,iBAAiB,QAASG,EAASC,EAAa,GAAG,CAAC,EAEzD,SAASF,EAAa,EAAG,CACvB,EAAE,eAAc,EAChB,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQH,CAAiB,CAAC,CAAC,EAC/DC,EAAK,MAAK,EACV,aAAa,WAAWD,CAAiB,CAC3C,CAEA,SAASK,EAAY,EAAG,CACtB,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAU,EAAE,OAC1BL,EAASI,GAAQC,EACjB,aAAa,QAAQP,EAAmB,KAAK,UAAUE,CAAQ,CAAC,CAClE,CAEA,SAASM,GAAc,CACrB,MAAMC,EAAU,KAAK,MAAM,aAAa,QAAQT,CAAiB,CAAC,EAC7DS,GACL,OAAO,KAAKA,CAAO,EAAE,QAAQC,GAAM,CACjCT,EAAK,SAASS,GAAI,MAAQD,EAAQC,EACtC,CAAG,CACH,CAEAF,EAAa"}